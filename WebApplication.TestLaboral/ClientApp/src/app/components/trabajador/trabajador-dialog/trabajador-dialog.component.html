<h1 mat-dialog-title>{{titulo}}</h1>
<form [formGroup]="trabajadorForm" (ngSubmit)="onSaveForm()">
  <div mat-dialog-content>
    <mat-form-field appearance="standard">
      <mat-label>Rut</mat-label>
      <input matInput placeholder="rut" [formControl]="rut" [errorStateMatcher]="matcher" #myInputRut maxlength="12">
      <mat-error *ngIf="rut.hasError('required')">
        El rut es <strong>requerido</strong>
      </mat-error>
      <mat-error *ngIf="rut.hasError('RutInvalido')">
        El rut no es <strong>valido</strong>
      </mat-error>
      
    </mat-form-field>
    <mat-form-field appearance="standard">
      <mat-label>Nombre</mat-label>
      <input matInput [formControl]="nombre" [errorStateMatcher]="matcher">

      <mat-error *ngIf="nombre.hasError('required')">
        El nombre es <strong>requerido</strong>
      </mat-error>
      <mat-error *ngIf="nombre.hasError('minlength')">
        El nombre debe tener un <strong>minimo de 3 caracteres</strong>
      </mat-error>
      <mat-error *ngIf="nombre.hasError('maxlength')">
        El nombre debe tener un <strong>maximo de 10 caracteres</strong>
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="standard">
      <mat-label>Apellido</mat-label>
      <input matInput [formControl]="apellido" [errorStateMatcher]="matcher">
      <mat-error *ngIf="apellido.hasError('required')">
        El apellido es <strong>requerido</strong>
      </mat-error>
      <mat-error *ngIf="apellido.hasError('minlength')">
        El apellido debe tener un <strong>minimo de 3 caracteres</strong>
      </mat-error>
      <mat-error *ngIf="apellido.hasError('maxlength')">
        El apellido debe tener un <strong>maximo de 10 caracteres</strong>
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="standard">
      <mat-label>Fecha nacimiento</mat-label>
      <input matInput [matDatepicker]="picker" [formControl]="fechaNacimiento" [errorStateMatcher]="matcher">
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>
    <mat-form-field appearance="standard">
      <mat-label>Email</mat-label>
      <input matInput placeholder="email" [formControl]="email" [errorStateMatcher]="matcher">
      <mat-error *ngIf="email.hasError('required')">
        El email es <strong>requerido</strong>
      </mat-error>
      <mat-error *ngIf="email.hasError('email')">
        El email es <strong>es invalido</strong>
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="standard">
      <mat-label>Telefono</mat-label>
      <input matInput placeholder="telefono" type="number" class="number-right-align" [formControl]="telefono" [errorStateMatcher]="matcher">
      <span matPrefix>+569</span>
      <mat-error *ngIf="telefono.hasError('required')">
        El telefono es <strong>requerido</strong>
      </mat-error>
      <mat-error *ngIf="telefono.hasError('min') || telefono.hasError('max')">
        El telefono tiene que tener <strong>8 digitos</strong>
      </mat-error>

    </mat-form-field>

    <mat-form-field appearance="standard">
      <mat-label>Region</mat-label>
      <mat-select [formControl]="ciudad" (selectionChange)="onChangeRegion(ciudad.value)" [errorStateMatcher]="matcher">
        <mat-option></mat-option>
        <mat-option *ngFor="let p of pais" [value]="p.region">
          {{p.region}}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="ciudad.hasError('required')">
        La region es <strong>requerida</strong>
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="standard">
      <mat-label>Comuna</mat-label>
      <mat-select [formControl]="comuna" [errorStateMatcher]="matcher">
        <mat-option *ngFor="let comuna of comunas" [value]="comuna">
          {{comuna}}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="comuna.hasError('required')">
        La comuna es <strong>requerida</strong>
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="standard">
      <mat-label>Dirección</mat-label>
      <input matInput placeholder="Dirección" [formControl]="direccion" [errorStateMatcher]="matcher">
      <mat-error *ngIf="direccion.hasError('required')">
        El dirección es <strong>requerido</strong>
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="standard">
      <mat-label>Departamento</mat-label>
      <mat-select [formControl]="departamento" [errorStateMatcher]="matcher">
        <mat-option *ngFor="let departamento of departamentos" [value]="departamento">
          {{departamento}}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="departamento.hasError('required')">
        La comuna es <strong>requerida</strong>
      </mat-error>
    </mat-form-field>
    <section class="form-section">
      <label class="form-margin">Sexo:</label>
      <mat-radio-group formControlName="genero" >
        <mat-radio-button class="form-margin" value="M">Masculino</mat-radio-button>
        <mat-radio-button class="form-margin" value="F">Femenino</mat-radio-button>
      </mat-radio-group>
    </section>
    <section class="form-section">
      <mat-checkbox class="example-margin" [formControl]="activo">Activo</mat-checkbox>
    </section>
   


  </div>
  <div mat-dialog-actions align="end">
    <button mat-button (click)="onNoClick()">Cancelar</button>
    <button mat-button type="submit" class="btn-send">Guardar</button>
  </div>
</form>
